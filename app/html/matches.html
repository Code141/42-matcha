<section id="matches">
	<aside>
		<form action="<?php echo SITE_ROOT;?>matches/main" method="post" id="matches_form">
			<button id="search_button" type="submit">
				SEARCH FOR THE PERFECT MATCH
			</button>
<hr>
ORDER BY
<hr>
			<div class="f_container">
				<input type="checkbox" name="match" id="match" value="1">
				<label class="f_title" for="match">matches</label> 
			</div>

			<div class="f_container">
				<input type="checkbox" name="order by matching tags" id="order by matching tags" value="1">
				<label class="f_title" for="order by matching tags">order by matching tags</label> 
			</div>

			<div class="f_container">
				Birthdate
				<select name="birthdate_order">
					<option class="placeholder" value="" disabled selected hidden></option>
					<option value="DESC">
					ASC
					</option>
					<option value="ASC">
					DESC
					</option>
				</select>
			</div>
			<div class="f_container">
				Distance
				<input type="number" name="distance_filter_km" min="1" max="20037">
				km away
			</div>

			<div class="f_container">
				Distance
				<select name="distance_order">
					<option class="placeholder" value="" disabled selected hidden></option>
					<option value="ASC">
					CLOSEST
					</option>
					<option value="DESC">
					FURTHEST
					</option>
				</select>
			</div>
<hr>
FILTER BY
<hr>
			<div class="f_container">
				Between
<p>
				<select name="age_select_from">
					<option class="placeholder" value="" disabled selected hidden></option>
					<?php for($i=16; $i<120; $i+=10) {?>
					<option value=<?php echo $i;?>>
					<?php echo $i;?>
					</option>
					<?php } ?>
				</select>
				and 
				<select name="age_select_to">
					<option class="placeholder" value="" disabled selected hidden></option>
					<?php for($i=16; $i<120; $i+=10) {?>
					<option value=<?php echo $i;?>>
					<?php echo $i;?>
					</option>
					<?php } ?>
				</select>
</p>
				years old
			</div>

			<div class="f_container">
				Score between
<p>
				<select name="score_select_to">
					<option class="placeholder" value="" disabled selected hidden></option>
					<?php for($i=0; $i<=10; $i+=1) {?>
					<option value=<?php echo $i;?>>
					<?php echo $i;?>
					</option>
					<?php } ?>
				</select>

				and 
				<select name="score_select_from">
					<option class="placeholder" value="" disabled selected hidden></option>
					<?php for($i=0; $i<=10; $i+=1) {?>
					<option value=<?php echo $i;?>>
					<?php echo $i;?>
					</option>
					<?php } ?>
				</select>
</p>
			</div>
	
			<div class="f_container" id="tag_container">
				<p class="f_title">
				Filter by tags
				</p>
				<input type="text" id="search_tags" placeholder="Search for tags..">
				<div id="tag_list">
					<ul id="myUL">
						<?php foreach($this->data['all_tags'] as $tag) { ?>
						<li title="<?php echo $tag['tag_name'];?>">
							<input type="checkbox" id="<?php echo $tag['tag_name'];?>" name="tag_<?php echo $tag['tag_name'];?>" value = "<?php echo $tag['id'];?>">
							<label for="<?php echo $tag['tag_name'];?>">#<?php echo $tag['tag_name']?></label>
						</li>
						<?php  }?>
					</ul>
				</div>
				<div>
					<button id="uncheck_tags">
						Clear tag filters
					</button>
				</div>
			</div>
			<button type="reset" id="reset_button">Reset all search options</button>
		</form>
	</aside>

	<div class="right">
		<div id=map>
		</div>
		<div id="pagination">
			<p>
			<span id='nb_matches'>
				Number of matching results :  
			</span>
				<table id='pages'>
					<th id='previous_page' title="previous page"><a id="a_previous_page" href="<?php echo SITE_ROOT . 'matches/main/' . $this->data['current_page'];?>"><<</a></th>
					<th id='first_page' title="first page"><a id="a_first_page" href="<?php echo SITE_ROOT . 'matches/main/1';?>">1 ...</a></th>
					<th id='last_page' title="last page"><a id="a_last_page"></a></th>
					<th id='next_page' title="next page"><a id="a_next_page"href="<?php echo SITE_ROOT . 'matches/main/' . $this->data['current_page'] ;?>">>></a></th>
				</table>
			</p>
		</div>
		<div class='container' id="profils">
		</div>
	</div>
	<script>
var user_location = <?php echo $this->json['user_location'];?>;
var profils = <?php echo $this->json['matches'];?>;
var default_pic = "<?php echo IMG_PATH . 'default-user-image.png';?>";
var MEDIA_PATH = "<?php echo MEDIA_PATH;?>";
var SITE_ROOT = "<?php echo SITE_ROOT;?>";
var total_matches = "<?php echo $this->json['total_matches'];?>";
var current_page = parseInt(<?php echo $this->json['current_page'];?>);
	</script>
</section>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css" integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA==" crossorigin=""/>
<script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js" integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA==" crossorigin=""></script>
<script src="<?php echo JS_PATH;?>matches.js"></script>
